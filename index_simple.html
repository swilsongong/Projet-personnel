<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Help for Seniors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2c7873">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js').catch(console.error);
        });
      }
    </script>
    <style>
        /* SENIOR-FRIENDLY STYLES */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            font-size: 24px; /* EXTRA LARGE TEXT */
            line-height: 1.6;
            background-color: #f8f9fa;
            color: #333;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .language-bar { text-align: right; margin-bottom: 30px; padding: 10px 0; }
        .lang-btn { font-size: 22px; padding: 12px 20px; margin: 0 5px; background: #fff; border: 3px solid #2c7873; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .lang-btn:hover { background: #2c7873; color: #fff; }
        header { text-align: center; margin-bottom: 40px; padding: 20px; background: linear-gradient(135deg, #2c7873, #6a98b8); border-radius: 20px; color: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        h1 { font-size: 42px; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .subtitle { font-size: 28px; opacity: 0.9; }
        .search-container { background: #fff; padding: 25px; border-radius: 15px; margin: 30px 0; box-shadow: 0 3px 10px rgba(0,0,0,0.08); border: 3px solid #e0e0e0; }
        .search-box { display: flex; gap: 10px; }
        #search-input { flex: 1; padding: 20px; font-size: 22px; border: 3px solid #2c7873; border-radius: 10px; }
        .search-btn { padding: 20px 30px; background: #2c7873; color: #fff; border: none; border-radius: 10px; font-size: 22px; cursor: pointer; font-weight: bold; }
        .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin: 40px 0; }
        .menu-card { background: #fff; border-radius: 20px; padding: 35px 25px; text-decoration: none; color: #333; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 4px solid transparent; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-height: 220px; }
        .menu-card:hover { transform: translateY(-8px); border-color: #2c7873; box-shadow: 0 8px 20px rgba(44,120,115,0.2); }
        .menu-icon { font-size: 60px; margin-bottom: 20px; }
        .menu-title { font-size: 26px; font-weight: bold; text-align: center; margin: 0; }
        .tips-box { background: linear-gradient(135deg, #fff9e6, #ffecb3); border: 4px solid #ffb300; border-radius: 20px; padding: 30px; margin-top: 50px; }
        .tips-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
        .tips-icon { font-size: 40px; }
        .tips-title { font-size: 32px; color: #e65100; margin: 0; }
        #daily-tip { font-size: 26px; background: #fff; padding: 25px; border-radius: 15px; border-left: 6px solid #ffb300; }
        .accessibility-bar { position: fixed; bottom: 20px; right: 20px; background: #fff; border-radius: 50px; padding: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); z-index: 1000; display: flex; gap: 10px; }
        .access-btn { width: 60px; height: 60px; border-radius: 50%; border: 3px solid #2c7873; background: #fff; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .progress-container { background: #fff; border-radius: 15px; padding: 20px; margin: 30px 0; border: 3px solid #e0e0e0; }
        .progress-title { font-size: 26px; margin-bottom: 15px; color: #2c7873; }
        .progress-bar { height: 30px; background: #e0e0e0; border-radius: 15px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #4caf50, #8bc34a); width: 25%; border-radius: 15px; transition: width 0.5s ease; }
        footer { text-align: center; margin-top: 50px; padding: 20px; color: #666; font-size: 20px; border-top: 3px solid #eee; }
        @media (max-width: 768px) { .menu-grid { grid-template-columns: 1fr; } body { font-size: 20px; padding: 15px; } h1 { font-size: 36px; } }
        .high-contrast { background: #000 !important; color: #fff !important; }
        .high-contrast .menu-card, .high-contrast .search-container, .high-contrast .tips-box { background: #222 !important; color: #fff !important; border-color: yellow !important; }
    </style>
</head>
<body data-i18n-scope>
    <!-- Accessibility Controls -->
    <div class="accessibility-bar">
        <button class="access-btn" onclick="increaseTextSize()" title="Increase Text Size">A+</button>
        <button class="access-btn" onclick="decreaseTextSize()" title="Decrease Text Size">A-</button>
        <button class="access-btn" onclick="toggleHighContrast()" title="High Contrast Mode">âš«</button>
        <button class="access-btn" onclick="speakPage()" title="Read Page Aloud">ğŸ”Š</button>
    </div>

    <!-- Language Selector -->
    <div class="language-bar">
        <button class="lang-btn" onclick="changeLanguage('en')">English</button>
        <button class="lang-btn" onclick="changeLanguage('fr')">FranÃ§ais</button>
        <button class="lang-btn" onclick="changeLanguage('zh')">ä¸­æ–‡</button>
    </div>

    <!-- Main Header -->
    <header>
        <h1 id="main-title">Tech Help for Seniors</h1>
        <p class="subtitle" id="subtitle">Learn technology at your own pace</p>
    </header>

    <!-- Progress Tracker -->
    <div class="progress-container">
        <div class="progress-title">Your Learning Progress</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div style="margin-top: 10px; font-size: 22px;">
            Completed: <span id="progress-text">1 of 8 modules</span>
        </div>
    </div>

    <!-- Search Box -->
    <div class="search-container">
        <div class="search-box">
            <input type="text" id="search-input" placeholder="What do you need help with?">
            <button class="search-btn" onclick="searchHelp()">Search</button>
        </div>
    </div>

    <!-- Main Menu Grid -->
    <div class="menu-grid">
        <a href="modules/ai_tools.html" class="menu-card">
            <div class="menu-icon">ğŸ¤–</div>
            <h3 class="menu-title" id="menu-ai">Using AI Tools</h3>
        </a>
        <a href="modules/banking.html" class="menu-card">
            <div class="menu-icon">ğŸ’°</div>
            <h3 class="menu-title" id="menu-banking">Online Banking</h3>
        </a>
        <a href="modules/transport.html" class="menu-card">
            <div class="menu-icon">ğŸšŒ</div>
            <h3 class="menu-title" id="menu-transport">Finding Transport</h3>
        </a>
        <a href="modules/computer.html" class="menu-card">
            <div class="menu-icon">ğŸ’»</div>
            <h3 class="menu-title" id="menu-computer">Using Computer</h3>
        </a>
        <a href="modules/phone.html" class="menu-card">
            <div class="menu-icon">ğŸ“±</div>
            <h3 class="menu-title" id="menu-phone">Using Phone</h3>
        </a>
        <a href="modules/language.html" class="menu-card">
            <div class="menu-icon">ğŸ“š</div>
            <h3 class="menu-title" id="menu-language">Language Learning</h3>
        </a>
        <a href="modules/useful_apps.html" class="menu-card">
            <div class="menu-icon">ğŸ“²</div>
            <h3 class="menu-title" id="menu-apps">Useful Apps</h3>
        </a>
        <a href="modules/tips.html" class="menu-card">
            <div class="menu-icon">ğŸ’¡</div>
            <h3 class="menu-title" id="menu-tips">Daily Tips</h3>
        </a>
    </div>

    <!-- Daily Tips Section -->
    <div class="tips-box">
        <div class="tips-header">
            <div class="tips-icon">ğŸ’¡</div>
            <h2 class="tips-title" id="tips-title">Daily Tip</h2>
        </div>
        <p id="daily-tip">Take your time. Learning technology is not a race!</p>
        <button onclick="newTip()" style="margin-top: 20px; padding: 15px 25px; font-size: 22px; background: #2c7873; color: white; border: none; border-radius: 10px; cursor: pointer;">Show Another Tip</button>
    </div>

    <!-- Footer -->
    <footer>
        <p>Made with â¤ï¸ for seniors in Montreal</p>
        <p style="margin-top: 10px; font-size: 18px;">Need help? Ask a family member or visit your local library.</p>
    </footer>

    <script src="translations.js"></script>
    <script src="features/i18n.js"></script>
    <script>
        // ========== LANGUAGE SWITCHER ==========
        const translations = {
            en: { 'main-title': 'Tech Help for Seniors','subtitle': 'Learn technology at your own pace','menu-ai': 'Using AI Tools','menu-banking': 'Online Banking','menu-transport': 'Finding Transport','menu-computer': 'Using Computer','menu-phone': 'Using Phone','menu-language': 'Language Learning','menu-apps': 'Useful Apps','menu-tips': 'Daily Tips','tips-title': 'Daily Tip','search-input': 'What do you need help with?' },
            fr: { 'main-title': 'Aide Technologique pour AÃ®nÃ©s','subtitle': 'Apprenez la technologie Ã  votre rythme','menu-ai': "Utiliser l'IA",'menu-banking': 'Banque en ligne','menu-transport': 'Trouver un transport','menu-computer': "Utiliser l'ordinateur",'menu-phone': 'Utiliser le tÃ©lÃ©phone','menu-language': 'Apprendre une langue','menu-apps': 'Applications utiles','menu-tips': 'Conseils quotidiens','tips-title': 'Conseil du Jour','search-input': "De quoi avez-vous besoin d'aide?" },
            zh: { 'main-title': 'è€å¹´äººç§‘æŠ€å¸®åŠ©','subtitle': 'æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥å­¦ä¹ ç§‘æŠ€','menu-ai': 'ä½¿ç”¨AIå·¥å…·','menu-banking': 'ç½‘ä¸Šé“¶è¡Œ','menu-transport': 'å¯»æ‰¾äº¤é€š','menu-computer': 'ä½¿ç”¨ç”µè„‘','menu-phone': 'ä½¿ç”¨æ‰‹æœº','menu-language': 'è¯­è¨€å­¦ä¹ ','menu-apps': 'å®ç”¨åº”ç”¨','menu-tips': 'æ¯æ—¥è´´å£«','tips-title': 'æ¯æ—¥è´´å£«','search-input': 'æ‚¨éœ€è¦ä»€ä¹ˆå¸®åŠ©?' }
        };
        function changeLanguage(lang) {
            document.querySelectorAll('[id]').forEach(el => {
                const key = el.id;
                if (translations[lang] && translations[lang][key]) {
                    if (el.tagName === 'INPUT') el.placeholder = translations[lang][key];
                    else el.textContent = translations[lang][key];
                }
            });
            localStorage.setItem('preferred-language', lang);
            alert('Language changed to ' + (lang === 'en' ? 'English' : lang === 'fr' ? 'French' : 'Chinese'));
        }

        // ========== DAILY TIPS ==========
        const dailyTips = {
            en: ["Take your time. Learning technology is not a race!","Ask for help when you need it - it's a sign of strength!","Mistakes are how we learn. Don't be afraid to try!","Celebrate every small victory in your learning journey!","Practice a little every day - consistency is key!","Remember: Every expert was once a beginner.","Keep a notebook to write down new things you learn.","Be patient with yourself. Learning takes time."],
            fr: ["Prenez votre temps. Apprendre la technologie n'est pas une course!","Demandez de l'aide quand vous en avez besoin - c'est un signe de force!","Les erreurs font partie de l'apprentissage. N'ayez pas peur d'essayer!","CÃ©lÃ©brez chaque petite victoire dans votre apprentissage!","Pratiquez un peu chaque jour - la rÃ©gularitÃ© est la clÃ©!","Rappelez-vous: chaque expert Ã©tait un jour dÃ©butant.","Gardez un cahier pour noter les nouvelles choses que vous apprenez.","Soyez patient avec vous-mÃªme. L'apprentissage prend du temps."],
            zh: ["æ…¢æ…¢æ¥ã€‚å­¦ä¹ æŠ€æœ¯ä¸æ˜¯æ¯”èµ›ï¼","éœ€è¦æ—¶å¯»æ±‚å¸®åŠ©â€”â€”è¿™æ˜¯åŠ›é‡çš„è±¡å¾ï¼","é”™è¯¯æ˜¯æˆ‘ä»¬å­¦ä¹ çš„æ–¹å¼ã€‚ä¸è¦å®³æ€•å°è¯•ï¼","åº†ç¥å­¦ä¹ æ—…ç¨‹ä¸­çš„æ¯ä¸€ä¸ªå°èƒœåˆ©ï¼","æ¯å¤©ç»ƒä¹ ä¸€ç‚¹â€”â€”åšæŒæ˜¯å…³é”®ï¼","è®°ä½ï¼šæ¯ä¸ªä¸“å®¶éƒ½æ›¾æ˜¯åˆå­¦è€…ã€‚","å‡†å¤‡ä¸€ä¸ªç¬”è®°æœ¬ï¼Œå†™ä¸‹ä½ å­¦åˆ°çš„æ–°ä¸œè¥¿ã€‚","å¯¹è‡ªå·±è¦æœ‰è€å¿ƒã€‚å­¦ä¹ éœ€è¦æ—¶é—´ã€‚"]
        };
        function showRandomTip() { const lang = localStorage.getItem('preferred-language') || 'en'; const tips = dailyTips[lang] || dailyTips.en; document.getElementById('daily-tip').textContent = tips[Math.floor(Math.random()*tips.length)]; }
        function newTip() { showRandomTip(); }

        // ========== ACCESSIBILITY ==========
        let textSize = 1; // 1..3
        function increaseTextSize() { if (textSize < 3) { textSize++; document.body.style.fontSize = (20 + (textSize * 4)) + 'px'; } }
        function decreaseTextSize() { if (textSize > 1) { textSize--; document.body.style.fontSize = (20 + (textSize * 4)) + 'px'; } }
        function toggleHighContrast() { document.body.classList.toggle('high-contrast'); alert('High contrast mode ' + (document.body.classList.contains('high-contrast') ? 'ON' : 'OFF')); }
        function speakPage() {
            const speech = new SpeechSynthesisUtterance();
            speech.text = document.getElementById('main-title').textContent + ". " + document.getElementById('daily-tip').textContent;
            speech.rate = 0.8; speech.pitch = 1; speech.volume = 1; speech.lang = (localStorage.getItem('preferred-language')||'en').startsWith('fr')?'fr-CA':((localStorage.getItem('preferred-language')||'en').startsWith('zh')?'zh-CN':'en-US');
            window.speechSynthesis.speak(speech);
        }

        // ========== SIMPLE PROGRESS ==========
        function updateProgress() {
            const completed = JSON.parse(localStorage.getItem('completed-modules') || '[]');
            const total = 8; const pct = Math.round((completed.length / total) * 100);
            document.getElementById('progress-fill').style.width = pct + '%';
            document.getElementById('progress-text').textContent = completed.length + ' of ' + total + ' modules';
        }

        // ========== SEARCH ==========
        function searchHelp() {
            const q = document.getElementById('search-input').value.toLowerCase().trim(); if (!q) return;
            const map = { ai:'modules/ai_tools.html', chatgpt:'modules/ai_tools.html', bank:'modules/banking.html', money:'modules/banking.html', bus:'modules/transport.html', metro:'modules/transport.html', computer:'modules/computer.html', windows:'modules/computer.html', phone:'modules/phone.html', iphone:'modules/phone.html', language:'modules/language.html', french:'modules/language.html', app:'modules/useful_apps.html', tips:'modules/tips.html', help:'modules/tips.html' };
            let to=null; for (const [k,v] of Object.entries(map)) { if (q.includes(k)) { to=v; break; } }
            if (to) window.location.href = to; else alert("Try words like: AI, banking, bus, computer, phone, language, apps, or tips.");
        }

        // ========== INIT ==========
        document.addEventListener('DOMContentLoaded', function() {
            changeLanguage(localStorage.getItem('preferred-language')||'en');
            showRandomTip();
            updateProgress();
            document.getElementById('search-input').focus();
            document.querySelectorAll('.menu-card').forEach(card => {
                card.addEventListener('click', function() {
                    const name = this.querySelector('.menu-title').textContent;
                    const arr = JSON.parse(localStorage.getItem('completed-modules') || '[]');
                    if (!arr.includes(name)) { arr.push(name); localStorage.setItem('completed-modules', JSON.stringify(arr)); updateProgress(); }
                });
            });
        });

        document.addEventListener('keydown', function(e){ if((e.ctrlKey||e.metaKey)&&e.key==='/' ){ e.preventDefault(); document.getElementById('search-input').focus(); } if(e.key==='Escape'){ document.getElementById('search-input').value=''; }});
    </script>
</body>
</html>
